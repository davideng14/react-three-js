(this.webpackJsonpnew=this.webpackJsonpnew||[]).push([[0],{27:function(e,t,r){e.exports=r(37)},36:function(e,t,r){},37:function(e,t,r){"use strict";r.r(t);var a=r(12),n=r.n(a),o=r(0),i=r.n(o),c=r(3),s=r(1),l=r(6),u=r.n(l),f=r(11),m=r(16),v=r.n(m),d={sections:3,pages:3,zoom:75,paragraphs:[{offset:0,factor:1.5,header:"",image:"/exercise.jpeg",aspect:1.35,text:""},{offset:1,factor:1.3,header:"Health and Benefits",image:"/health.jpg",aspect:1.35,text:"test test test test"}],diamonds:[],top:Object(o.createRef)()};function h(e){var t=e.children,r=e.size,a=void 0===r?1:r,n=e.left,l=e.right,m=e.top,h=e.bottom,p=e.color,g=void 0===p?"white":p,b=e.opacity,x=void 0===b?1:b,y=e.height,j=void 0===y?.01:y,w=(e.layers,e.font),O=void 0===w?"/MOONGET_Heavy.blob":w,E=Object(f.a)(e,["children","size","left","right","top","bottom","color","opacity","height","layers","font"]),M=Object(c.e)(s.FontLoader,O),N=v()((function(){return new Promise((function(e){return e(new s.TextBufferGeometry(t,{font:M,size:1,height:j,curveSegments:32}))}))}),[t]),_=Object(o.useCallback)((function(e){var t=new s.Vector3;e.geometry.computeBoundingBox(),e.geometry.boundingBox.getSize(t),e.position.x=n?0:l?-t.x:-t.x/2,e.position.y=m?0:h?-t.y:-t.y/2}),[n,l,m,h]),k=Object(o.useRef)(),z=d.top.current;return Object(c.d)((function(){k.current.shift=u()(k.current.shift,(d.top.current-z)/100,.1),z=d.top.current})),i.a.createElement("group",Object.assign({},E,{scale:[a,a,.1]}),i.a.createElement("mesh",{geometry:N,onUpdate:_,frustumCulled:!1},i.a.createElement("customMaterial",{ref:k,attach:"material",color:g,transparent:!0,opacity:x})))}var p=r(4),g=r(25),b=r(5),x=r(9),y=r(7),j=r(8),w=function(e){function t(){return Object(b.a)(this,t),Object(x.a)(this,Object(y.a)(t).call(this,{vertexShader:"varying vec3 worldNormal;\n      void main() {\n        vec4 transformedNormal = vec4(normal, 0.);\n        vec4 transformedPosition = vec4(position, 1.0);\n        #ifdef USE_INSTANCING\n          transformedNormal = instanceMatrix * transformedNormal;\n          transformedPosition = instanceMatrix * transformedPosition;\n        #endif\n        worldNormal = normalize(modelViewMatrix * transformedNormal).xyz;\n        gl_Position = projectionMatrix * modelViewMatrix * transformedPosition;\n      }",fragmentShader:"varying vec3 worldNormal;\n      void main() {\n        gl_FragColor = vec4(worldNormal, 1.0);\n      }",side:s.BackSide}))}return Object(j.a)(t,e),t}(s.ShaderMaterial),O=function(e){function t(e){return Object(b.a)(this,t),Object(x.a)(this,Object(y.a)(t).call(this,{vertexShader:"varying vec3 worldNormal;\n      varying vec3 viewDirection;\n      void main() {\n        vec4 transformedNormal = vec4(normal, 0.);\n        vec4 transformedPosition = vec4(position, 1.0);\n        #ifdef USE_INSTANCING\n          transformedNormal = instanceMatrix * transformedNormal;\n          transformedPosition = instanceMatrix * transformedPosition;\n        #endif\n        worldNormal = normalize( modelViewMatrix * transformedNormal).xyz;\n        viewDirection = normalize((modelMatrix * vec4( position, 1.0)).xyz - cameraPosition);;\n        gl_Position = projectionMatrix * modelViewMatrix * transformedPosition;\n      }",fragmentShader:"uniform sampler2D envMap;\n      uniform sampler2D backfaceMap;\n      uniform vec2 resolution;\n      varying vec3 worldNormal;\n      varying vec3 viewDirection;\n      float fresnelFunc(vec3 viewDirection, vec3 worldNormal) {\n        return pow(1.05 + dot(viewDirection, worldNormal), 100.0);\n      }\n      void main() {\n        vec2 uv = gl_FragCoord.xy / resolution;\n        vec3 normal = worldNormal * (1.0 - 0.7) - texture2D(backfaceMap, uv).rgb * 0.7;\n        vec4 color = texture2D(envMap, uv += refract(viewDirection, normal, 1.0/1.5).xy);\n        //gl_FragColor = vec4(mix(color.rgb, vec3(0.15), fresnelFunc(viewDirection, normal)), 1.0);\n        gl_FragColor = vec4(mix(color.rgb, vec3(0.4), fresnelFunc(viewDirection, normal)), 1.0);\n      }",uniforms:{envMap:{value:e.envMap},backfaceMap:{value:e.backfaceMap},resolution:{value:e.resolution}}}))}return Object(j.a)(t,e),t}(s.ShaderMaterial),E=Object(o.createContext)(0);function M(e){var t=e.children,r=e.offset,a=e.factor,n=Object(f.a)(e,["children","offset","factor"]),s=N(),l=s.offset,m=s.sectionHeight,v=Object(o.useRef)();return r=void 0!==r?r:l,Object(c.d)((function(){var e=v.current.position.y,t=d.top.current;v.current.position.y=u()(e,t/d.zoom*a,.1)})),i.a.createElement(E.Provider,{value:r},i.a.createElement("group",Object.assign({},n,{position:[0,-m*r*a,0]}),i.a.createElement("group",{ref:v},t)))}function N(){var e=d.sections,t=d.pages,r=d.zoom,a=Object(c.f)(),n=a.size,i=a.viewport,s=Object(o.useContext)(E),l=i.width,u=i.height,f=l/r,m=u/r,v=n.width<700;return{viewport:i,offset:s,viewportWidth:l,viewportHeight:u,canvasWidth:f,canvasHeight:m,mobile:v,margin:f*(v?.2:.1),contentMaxWidth:f*(v?.8:.6),sectionHeight:m*((t-1)/(e-1)),offsetFactor:(s+1)/e}}var _=new s.Object3D;function k(){var e=Object(c.e)(g.a,"/diamond.glb");Object(o.useMemo)((function(){return e.scene.children[0].geometry.center()}),[]);var t=Object(c.f)(),r=t.size,a=t.gl,n=t.scene,l=t.camera,f=t.clock,m=N(),v=m.contentMaxWidth,h=m.sectionHeight,b=m.mobile,x=Object(o.useRef)(),y=a.getPixelRatio(),j=Object(o.useMemo)((function(){var e=new s.WebGLRenderTarget(r.width*y,r.height*y),t=new s.WebGLRenderTarget(r.width*y,r.height*y);return[e,t,new w,new O({envMap:e.texture,backfaceMap:t.texture,resolution:[r.width*y,r.height*y]})]}),[r,y]),E=Object(p.a)(j,4),M=E[0],k=E[1],z=E[2],D=E[3];return Object(c.d)((function(){d.diamonds.forEach((function(e,t){var r=f.getElapsedTime()/2,a=e.x,n=e.offset,o=e.scale,i=e.factor,c=v/35*o;e.pos.set(b?0:a,u()(e.pos.y,-h*n*i+d.top.current/d.zoom*i,.1),0),_.position.copy(e.pos),t===d.diamonds.length-1?_.rotation.set(0,r,0):_.rotation.set(r,r,r),_.scale.set(c,c,c),_.updateMatrix(),x.current.setMatrixAt(t,_.matrix),x.current.instanceMatrix.needsUpdate=!0})),a.autoClear=!1,l.layers.set(0),a.setRenderTarget(M),a.clearColor(),a.render(n,l),a.clearDepth(),l.layers.set(1),x.current.material=z,a.setRenderTarget(k),a.clearDepth(),a.render(n,l),l.layers.set(0),a.setRenderTarget(null),a.render(n,l),a.clearDepth(),l.layers.set(1),x.current.material=D,a.render(n,l)}),1),i.a.createElement("instancedMesh",{ref:x,layers:1,args:[null,null,d.diamonds.length],position:[0,0,50]},i.a.createElement("bufferGeometry",Object.assign({attach:"geometry"},e.__$[1].geometry)))}var z=r(26),D=function(e){function t(){return Object(b.a)(this,t),Object(x.a)(this,Object(y.a)(t).call(this,{vertexShader:"uniform float scale;\n      uniform float shift;\n      varying vec2 vUv;\n      void main() {\n        vec3 pos = position;\n        pos.y = pos.y + ((sin(uv.x * 3.1415926535897932384626433832795) * shift * 1.5) * 0.125);\n        vUv = uv;\n        gl_Position = projectionMatrix * modelViewMatrix * vec4(pos,1.);\n      }",fragmentShader:"uniform sampler2D texture;\n      uniform float hasTexture;\n      uniform float shift;\n      uniform float scale;\n      uniform vec3 color;\n      uniform float opacity;\n      varying vec2 vUv;\n      void main() {\n        float angle = 1.55;\n        vec2 p = (vUv - vec2(0.5, 0.5)) * (1.0 - scale) + vec2(0.5, 0.5);\n        vec2 offset = shift / 4.0 * vec2(cos(angle), sin(angle));\n        vec4 cr = texture2D(texture, p + offset);\n        vec4 cga = texture2D(texture, p);\n        vec4 cb = texture2D(texture, p - offset);\n        if (hasTexture == 1.0) gl_FragColor = vec4(cr.r, cga.g, cb.b, cga.a);\n        else gl_FragColor = vec4(color, opacity);\n      }",uniforms:{texture:{value:null},hasTexture:{value:0},scale:{value:0},shift:{value:0},opacity:{value:1},color:{value:new s.Color("white")}}}))}return Object(j.a)(t,e),Object(z.a)(t,[{key:"scale",set:function(e){this.uniforms.scale.value=e},get:function(){return this.uniforms.scale.value}},{key:"shift",set:function(e){this.uniforms.shift.value=e},get:function(){return this.uniforms.shift.value}},{key:"map",set:function(e){this.uniforms.hasTexture.value=!!e,this.uniforms.texture.value=e},get:function(){return this.uniforms.texture.value}},{key:"color",get:function(){return this.uniforms.color.value}},{key:"opacity",get:function(){return this.uniforms.opacity.value},set:function(e){this.uniforms&&(this.uniforms.opacity.value=e)}}]),t}(s.ShaderMaterial);Object(c.c)({CustomMaterial:D});var S=Object(o.forwardRef)((function(e,t){var r=e.color,a=void 0===r?"white":r,n=e.shift,s=void 0===n?1:n,l=e.opacity,m=void 0===l?1:l,v=e.args,h=e.map,p=Object(f.a)(e,["color","shift","opacity","args","map"]),g=N(),b=g.viewportHeight,x=g.offsetFactor,y=Object(o.useRef)(),j=d.top.current;return Object(c.d)((function(){var e=d.pages,t=d.top;y.current.scale=u()(y.current.scale,x-t.current/((e-1)*b),.1),y.current.shift=u()(y.current.shift,(t.current-j)/s,.1),j=t.current})),i.a.createElement("mesh",Object.assign({ref:t},p),i.a.createElement("planeBufferGeometry",{attach:"geometry",args:v}),i.a.createElement("customMaterial",{ref:y,attach:"material",color:a,map:h,transparent:!0,opacity:m}))}));r(36);function C(){var e=Object(o.useRef)();return Object(c.d)((function(){return e.current.material.opacity=u()(e.current.material.opacity,0,.025)})),i.a.createElement(S,{ref:e,color:"#0e0e0f",position:[0,0,200],scale:[100,100,1]})}var F=["#11b6e0","#f48218","#cc3399"];function T(e){var t=e.image,r=e.index,a=e.offset,n=e.factor,o=e.header,s=e.aspect,l=e.text,u=N(),f=u.contentMaxWidth,m=u.canvasWidth,v=u.margin,p=u.mobile,g=s<1&&!p?.65:1,b=(m-f*g-v)/3,x=f*d.zoom*g,y=!(r%2),j=F[r];return i.a.createElement(M,{factor:n,offset:a},i.a.createElement("group",{position:[y?-b:b,0,0]},i.a.createElement(S,{map:t,args:[1,1,32,32],shift:75,size:g,aspect:s,scale:[f*g,f*g/s,1],frustumCulled:!1}),i.a.createElement(c.b,{style:{width:x/(p?1:2),textAlign:y?"left":"right"},position:[y||p?-f*g/2:0,-f*g/2/s-.4,1]},i.a.createElement("div",{className:"paragraph",tabIndex:r},l)),i.a.createElement(h,{left:y,right:!y,size:.04*f,color:j,top:!0,position:[(y?-f:f)*g/2,f*g/s/2+.5,-1]},o)))}function P(){var e=Object(c.e)(s.TextureLoader,d.paragraphs.map((function(e){return e.image})));Object(o.useMemo)((function(){return e.forEach((function(e){return e.minFilter=s.LinearFilter}))}),[e]);var t=N(),r=(t.contentMaxWidth,t.canvasWidth),a=t.canvasHeight;t.mobile;return i.a.createElement(i.a.Fragment,null,d.paragraphs.map((function(t,r){return i.a.createElement(T,Object.assign({key:r,index:r},t,{image:e[r]}))})),i.a.createElement(M,{factor:1.25,offset:4},i.a.createElement(c.b,{className:"bottom-left",position:[-r/2,-a/2,0]},"Infinity Quarintine")))}n.a.render(i.a.createElement((function(){var e=Object(o.useRef)(),t=function(e){return d.top.current=e.target.scrollTop};return Object(o.useEffect)((function(){t({target:e.current})}),[]),i.a.createElement(i.a.Fragment,null,i.a.createElement(c.a,{className:"canvas",concurrent:!0,pixelRatio:1,orthographic:!0,camera:{zoom:d.zoom,position:[0,0,500]}},i.a.createElement(o.Suspense,{fallback:i.a.createElement(c.b,{center:!0,className:"loading",children:"Loading..."})},i.a.createElement(P,null),i.a.createElement(k,null),i.a.createElement(C,null))),i.a.createElement("div",{className:"scrollArea",ref:e,onScroll:t},new Array(d.sections).fill().map((function(e,t){return i.a.createElement("div",{key:t,id:"0"+t,style:{height:"".concat(d.pages/d.sections*100,"vh")}})}))),i.a.createElement("div",{className:"frame"},i.a.createElement("img",{src:"/Logo.png"}),i.a.createElement("div",{className:"frame__links"},i.a.createElement("a",{className:"frame__link",href:"#00",children:"Home"}),i.a.createElement("a",{className:"frame__link",href:"#01",children:"Health"}),i.a.createElement("a",{className:"frame__link",href:"#02",children:"Benefits"}),i.a.createElement("a",{className:"frame__link",href:"#03",children:"Details"}))))}),null),document.getElementById("root"))}},[[27,1,2]]]);
//# sourceMappingURL=main.9af28852.chunk.js.map